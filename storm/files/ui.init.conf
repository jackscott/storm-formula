
# apache storm ui upstart

description "apache storm ui"

stop on runlevel [!2345]
console log
limit nofile 65535 65535

respawn
respawn limit 5 30

setuid {{ storm.user_name }}
setgid {{ storm.user_name }}

env JAVA_HOME={{ java_home }}
env INSTALL_DIR={{ real_home }}
env LOCAL_CACHE=$INSTALL_DIR/storm-local

start on net-device-up

script
  . /etc/default/storm_ui
  if [ "x$ENABLE" = "xyes" ]; then
    exec {{ real_home }}/bin/storm ui
  fi
end script
